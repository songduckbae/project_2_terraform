# # apiVersion: karpenter.sh/v1alpha5
# # kind: Provisioner
# # metadata:
# #   name: default
# # spec:
# #   requirements:
# #     - key: kubernetes.io/arch
# #       operator: In
# #       values: ["amd64"]
# #     - key: karpenter.sh/capacity-type
# #       operator: In
# #       values: ["spot"]
# #     - key: kubernetes.io/os
# #       operator: In
# #       values: ["linux"]
# #     - key: karpenter.k8s.aws/instance-category
# #       operator: In
# #       values: ["c", "m", "r"]
# #     - key: karpenter.k8s.aws/instance-generation
# #       operator: Gt
# #       values: ["2"] 
# #   provider:
# #     instanceProfile: karpenter-node-instance-profile
# #     subnetSelector:
# #       kubernetes.io/cluster/univ-eks: owned
# #     securityGroupSelector:
# #       aws:eks:cluster-name: univ-eks
# #   ttlSecondsAfterEmpty: 30

# apiVersion: karpenter.k8s.aws/v1beta1
# kind: EC2NodeClass
# metadata:
#   name: default
# spec:
#   amiFamily: AL2
#   role: arn:aws:iam::886723286293:role/karpenter-node-role
#   subnetSelectorTerms:
#     - tags:
#         karpenter.sh/discovery: univ-eks
#   securityGroupSelectorTerms:
#     - tags:
#         karpenter.sh/discovery: univ-eks
# ---
# apiVersion: karpenter.sh/v1beta1
# kind: NodePool
# metadata:
#   name: default
# spec:
#   template:
#     metadata:
#       labels:
#         team: dev
#     spec:
#       nodeClassRef:
#         name: default
#       requirements:
#         - key: karpenter.sh/capacity-type
#           operator: In
#           values: ["spot"]
#         - key: kubernetes.io/arch
#           operator: In
#           values: ["amd64"]
#         - key: kubernetes.io/os
#           operator: In
#           values: ["linux"]
#         - key: node.kubernetes.io/instance-type
#           operator: In
#           values: ["t3a.2xlarge"]
#   disruption:
#     consolidationPolicy: WhenUnderutilized
#     expireAfter: 720h

